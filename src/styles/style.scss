@use './reset' as *;
@use './mixins' as *;
@use './functions' as *;
@use './base';

body {
	--wrapper: min(100% - 2rem, 60ch);
	background-color: hsl(var(--surface--400));

	@media (hover: hover), (pointer: fine) {
		&::-webkit-scrollbar {
			width: 8px;
		}

		&::-webkit-scrollbar-track {
			background-color: hsl(var(--surface--300));
		}

		&::-webkit-scrollbar-thumb {
			background-color: hsl(var(--surface-100));
			border-radius: 4px;
		}
	}

	@include touch-device {
		&::-webkit-scrollbar {
			width: 4px;
		}
		overflow-x: hidden;
	}
}

.input__range {
	position: fixed;
	inline-size: 100%;
	top: 0;
	z-index: 2;
	background-color: hsl(var(--surface--400) / 0.5);
	backdrop-filter: blur(8px);
	padding-block: 0.5rem;
}

.range {
	--thumb-block: 30px;
	--thumb-inline: 15px;
	--track-block: 10px;
	--track-inline: var(--wrapper);
	--background: linear-gradient(to right, #{lgbtq(12, hsl(0 80% 70%))});
	@extend %range;
	inline-size: var(--track-inline);
}

section {
	text-align: center;
	@include flex(center, center, column);
	gap: 1rem;
	min-block-size: 100vh;

	&:not(.preference, :nth-child(3)) {
		inline-size: var(--wrapper);
		margin-inline: auto;
	}

	&:where(.preference, :nth-child(3)) > * {
		inline-size: var(--wrapper);
	}

	.tag {
		font-size: 0.9rem;
		text-transform: uppercase;
		letter-spacing: 2px;
		color: hsl(var(--text--200));
	}

	&:nth-child(3n) {
		background-color: hsl(var(--surface--200));
	}

	img {
		aspect-ratio: 16 / 9;
		max-inline-size: 60ch;
		mix-blend-mode: luminosity;
		border-radius: 0.5rem;
	}
}

h1 {
	font-size: 2.25rem;
	color: hsl(var(--text--100));
}

p {
	color: hsl(var(--text-100));

	&.small {
		color: hsl(var(--text-200));
		font-size: 0.95rem;
	}
}

.homepage {
	block-size: calc(100vh - 58px);
}

.color {
	position: relative;
	padding: 4rem 0;

	.small {
		position: absolute;
		bottom: 1rem;
	}
}

.preference {
	background-color: hsl(var(--surface--400));
}

.complimentary {
	--hue-add: 180;
}

.monochrome {
	--s: 0%;
}

$idx: 0;

.palette {
	--size: 60px;
	display: flex;
	justify-content: center;
	translate: 1.75rem 0;
	margin-block-start: 1rem;
	// gap: 12px;
	.box {
		block-size: var(--size);
		inline-size: var(--size);
		border-radius: calc(var(--size) / 2);
		border: 2px solid #fff;
	}

	@for $i from -2 through 2 {
		@if $i >= 0 {
			$i: $i + 1;
		}
		$idx: $idx + 1 !global;
		.box:nth-child(#{$idx}) {
			background-color: hsl(var(--surface-#{$i * 100}));
			transform: translateX(calc(12px * ($idx - 1) * -1));
		}
	}
}

// Presentation ONLY

// text shades
$idx1: 0;
@for $i from -2 through 2 {
	@if $i >= 0 {
		$i: $i + 1;
	}
	$idx1: $idx1 + 1 !global;
	.text-#{$idx1 * 100} {
		color: hsl(var(--text-#{$i * 100}));
	}
}
